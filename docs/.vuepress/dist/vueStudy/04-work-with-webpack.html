<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Working with WebPack | Vue HStudy</title>
    <meta name="generator" content="VuePress 1.8.2">
    
    <meta name="description" content="">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    
    <link rel="preload" href="/assets/css/0.styles.76a0677b.css" as="style"><link rel="preload" href="/assets/js/app.ccdd7dc9.js" as="script"><link rel="preload" href="/assets/js/2.cd210312.js" as="script"><link rel="preload" href="/assets/js/13.cf2b785b.js" as="script"><link rel="prefetch" href="/assets/js/10.a4b5a017.js"><link rel="prefetch" href="/assets/js/11.0cc1039c.js"><link rel="prefetch" href="/assets/js/12.14a2d88e.js"><link rel="prefetch" href="/assets/js/14.053af1b1.js"><link rel="prefetch" href="/assets/js/15.52b9f270.js"><link rel="prefetch" href="/assets/js/16.c2c81773.js"><link rel="prefetch" href="/assets/js/17.2d930793.js"><link rel="prefetch" href="/assets/js/18.a31162fc.js"><link rel="prefetch" href="/assets/js/19.9dcf5086.js"><link rel="prefetch" href="/assets/js/20.1617738d.js"><link rel="prefetch" href="/assets/js/3.b2051f18.js"><link rel="prefetch" href="/assets/js/4.8fdc822b.js"><link rel="prefetch" href="/assets/js/5.2c978c15.js"><link rel="prefetch" href="/assets/js/6.b06d1fd3.js"><link rel="prefetch" href="/assets/js/7.e0102d67.js"><link rel="prefetch" href="/assets/js/8.c9e97341.js"><link rel="prefetch" href="/assets/js/9.57a08b59.js">
    <link rel="stylesheet" href="/assets/css/0.styles.76a0677b.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Vue HStudy</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/vueStudy/" class="nav-link router-link-active">
  Vue-Study
</a></div><div class="nav-item"><a href="/vuePress/" class="nav-link">
  Vue-Press
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/vueStudy/" class="nav-link router-link-active">
  Vue-Study
</a></div><div class="nav-item"><a href="/vuePress/" class="nav-link">
  Vue-Press
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>VUE-CLI</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/vueStudy/" aria-current="page" class="sidebar-link">Vue CLI - Basic</a></li><li><a href="/vueStudy/00-Vue-CLI-Doc.html" class="sidebar-link">Vue Cli - DOC</a></li><li><a href="/vueStudy/01-browser-compatibility.html" class="sidebar-link">Browser Compatibility</a></li><li><a href="/vueStudy/02-html-static-asset.html" class="sidebar-link">HTML 및 정적자산</a></li><li><a href="/vueStudy/03-work-with-css.html" class="sidebar-link">Working with CSS</a></li><li><a href="/vueStudy/04-work-with-webpack.html" aria-current="page" class="active sidebar-link">Working with WebPack</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vueStudy/04-work-with-webpack.html#vue-cli-생성-프로젝트-웹팩" class="sidebar-link">Vue CLI 생성 프로젝트 웹팩</a></li><li class="sidebar-sub-header"><a href="/vueStudy/04-work-with-webpack.html#간단한-설정-simple-configuration" class="sidebar-link">간단한 설정(Simple Configuration)</a></li><li class="sidebar-sub-header"><a href="/vueStudy/04-work-with-webpack.html#체이닝-chaining" class="sidebar-link">체이닝(Chaining)</a></li></ul></li><li><a href="/vueStudy/05-mode-and-environment-variables.html" class="sidebar-link">Modes</a></li><li><a href="/vueStudy/06-build-target.html" class="sidebar-link">Build Target</a></li><li><a href="/vueStudy/07-troubleshoting.html" class="sidebar-link">Troubleshooting</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>VUE-Plugin</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/vueStudy/vp-00-basic.html" class="sidebar-link">Plugins</a></li><li><a href="/vueStudy/vp-01-prettier.html" class="sidebar-link">Prettier</a></li><li><a href="/vueStudy/vp-02-pwa.html" class="sidebar-link">Progressive Web Application</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="working-with-webpack"><a href="#working-with-webpack" class="header-anchor">#</a> Working with WebPack</h1> <ul><li><p>webpack 관련해서는 사실 이해가 잘가지 않음</p></li> <li><p>정확한 사용법과 용도를 알기 위해서는 webpack 자체를 따로 공부해야할듯.</p> <p><strong>[현재 이해한 버전]</strong></p> <ol><li>vue.config.js 에서 vue에서 사용하는 웹팩 설정을 실행 할 수 있다.</li> <li>각각 플러그인마다 웹팩을 통해서 말아지기 때문에 옵션 값들을 설정할 수 있다.</li> <li>loader에 각각 rule을 적용할 수 있다. (css는 별도 loader 설정을 사용하는 것이 좋다,)</li> <li>vue inspect 명령어를 통해 웹팩 설정을 확인 할 수 있다.</li></ol></li></ul> <h2 id="vue-cli-생성-프로젝트-웹팩"><a href="#vue-cli-생성-프로젝트-웹팩" class="header-anchor">#</a> Vue CLI 생성 프로젝트 웹팩</h2> <p>Vue CLI &gt;= 3 버전에서는 웹팩 설정 파일(webpack.config.js)이 프로젝트 루트 레벨에 노출되어 있었다. Vue CLI 3 이상에서는 웹팩 설정 파일을 <code>vue-cli-service</code>라는 이름으로 감추어 두었다.</p> <div class="language-bash extra-class"><pre class="language-bash"><code>src
node_modules
  @vue
    cli-service
<span class="token punctuation">..</span>.
</code></pre></div><h3 id="웹팩-옵션-생성-명령어"><a href="#웹팩-옵션-생성-명령어" class="header-anchor">#</a> 웹팩 옵션 생성 명령어</h3> <div class="language-bash extra-class"><pre class="language-bash"><code>vue inspect <span class="token operator">&gt;</span> options.js
</code></pre></div><p>해당 명령어를 통해서 options.js에 웹팩 옵션을 담아 확인 할 수 있다.</p> <h2 id="간단한-설정-simple-configuration"><a href="#간단한-설정-simple-configuration" class="header-anchor">#</a> 간단한 설정(Simple Configuration)</h2> <p>webPack 설정의 가장 쉬운 방법은 <code>vue.config.js</code> 파일에서 웹팩 관련 설정을 세팅하는 것이다.</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">// vue.config.js</span>
<span class="token keyword">module</span><span class="token punctuation">.</span><span class="token keyword">exports</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  configureWebpack<span class="token operator">:</span> <span class="token punctuation">{</span>
    plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token keyword">new</span> <span class="token class-name">MyAwesomeWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>이 설정 object는 webpack-merge를 통해 merge 된다.</p> <p><a href="https://github.com/survivejs/webpack-merge" target="_blank" rel="noopener noreferrer">GitHub - survivejs/webpack-merge: Merge designed for webpack<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <blockquote><p>어떤 webpack 옵션의 경우 vue.config.js 에 의해서 설정 될 수 있지만, 바로 변이되지 않는다. 예를 들어 output.path가 수정되는 경우, vue.config.js 에 있는 outputDir 옵션을 사용하여야 한다 (ouput.publicPath 를 수정하는 대신). 이유는 vue.config.js 는 다양한 장소에서 사용되며 모든 작업이 함께 적절히 이루어져야 하기 때문이다.</p></blockquote> <p>만약 conditional behavior을 환경에 맞추고 싶거나, 설정에 대한 변이를 즉각적으로 발생시키고 싶다면 function을 사용해야 한다. (lazy하게 평가되어 env 변수가 세팅된다,) function은 설정을 인자로 받아들인다. function 안에서 당신은 설정에 대한 변이를 즉각적으로 발생시킬 수 있다. 혹은 객체를 return 함으로서 merge 시켜야 한다.</p> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token comment">// vue.config.js</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function-variable function">configureWebpack</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">config</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">NODE_ENV</span> <span class="token operator">===</span> <span class="token string">'production'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// mutate config for production...</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      <span class="token comment">// mutate for development...</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="체이닝-chaining"><a href="#체이닝-chaining" class="header-anchor">#</a> 체이닝(Chaining)</h2> <p>웹팩 내부 설정은 webpack-chain 을 통해서 유지되고 있다. 해당 라이브러리를 추상화된 날것의 웹팩 설정을 제공한다. 여기에는 loader rules과 named plugins 라고 정의된 기능이 포함되어있다. 후에 'tap'을 통해서 이러한 옵션들을 수정 할 수 있다.</p> <p>체이닝을은 내부 설정을 섬세하게 조정할 수 있도록 한다. 하단에 vue.config.js 에서 chainWebpack 옵션을 통해서 어떤 방식으로 공통 분모가 수정되는지 확인 할 수 있다.</p> <blockquote><p>TIP : vue inspect 를 통해서 wepcak config가 어떤게 변화되는지 확인 할 수 있다.</p></blockquote> <h3 id="modifying-options-of-a-loader"><a href="#modifying-options-of-a-loader" class="header-anchor">#</a> Modifying Options of a Loader</h3> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token comment">// vue.config.js</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function-variable function">chainWebpack</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">config</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    config<span class="token punctuation">.</span>module
      <span class="token punctuation">.</span><span class="token function">rule</span><span class="token punctuation">(</span><span class="token string">'vue'</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token string">'vue-loader'</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">tap</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">options</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token comment">// modify the options...</span>
        <span class="token keyword">return</span> options<span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><blockquote><p>CSS loader와 관련해서는 웹팩 체이닝보다는 css.loaderOptions 을 사용하는 것을 추천한다. css.loaderOptions 을사용하면 CSS파일 타입에따라서 여러가지 rule을 각각 적용시킬 수 있다.</p></blockquote> <h3 id="adding-a-new-loader"><a href="#adding-a-new-loader" class="header-anchor">#</a> Adding a New Loader</h3> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token comment">// vue.config.js</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function-variable function">chainWebpack</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">config</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// GraphQL Loader</span>
    config<span class="token punctuation">.</span>module
      <span class="token punctuation">.</span><span class="token function">rule</span><span class="token punctuation">(</span><span class="token string">'graphql'</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.graphql$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token string">'graphql-tag/loader'</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">loader</span><span class="token punctuation">(</span><span class="token string">'graphql-tag/loader'</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token comment">// Add another loader</span>
      <span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token string">'other-loader'</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">loader</span><span class="token punctuation">(</span><span class="token string">'other-loader'</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="adding-a-new-loader-2"><a href="#adding-a-new-loader-2" class="header-anchor">#</a> Adding a New Loader</h3> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token comment">// vue.config.js</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function-variable function">chainWebpack</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">config</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// GraphQL Loader</span>
    config<span class="token punctuation">.</span>module
      <span class="token punctuation">.</span><span class="token function">rule</span><span class="token punctuation">(</span><span class="token string">'graphql'</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.graphql$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token string">'graphql-tag/loader'</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">loader</span><span class="token punctuation">(</span><span class="token string">'graphql-tag/loader'</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token comment">// Add another loader</span>
      <span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token string">'other-loader'</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">loader</span><span class="token punctuation">(</span><span class="token string">'other-loader'</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>—‼️ 이건 공식 문서에 쓰여있는 loader인데 다양한 여러개의 loader를 사용하는 방법을 서술한 것 같음. 다른 설명은 없고, 웹팩을 공부하면서 다시 확인해야 함.</p> <h3 id="replacing-loaders-of-a-rule"><a href="#replacing-loaders-of-a-rule" class="header-anchor">#</a> Replacing Loaders of a Rule</h3> <p>만약 기존에 존재하는 <a href="https://github.com/vuejs/vue-cli/blob/dev/packages/%40vue/cli-service/lib/config/base.js" target="_blank" rel="noopener noreferrer">Base Loader<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>를 변경하고 싶다면, 아래 방법을 통해서 인라인 svg 파일 로딩하는 방식을 <code>vue-svg-loader</code>을 통해서 하도록 변경 할 수 있다.</p> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token comment">// vue.config.js</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function-variable function">chainWebpack</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">config</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> svgRule <span class="token operator">=</span> config<span class="token punctuation">.</span>module<span class="token punctuation">.</span><span class="token function">rule</span><span class="token punctuation">(</span><span class="token string">'svg'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// clear all existing loaders.</span>
    <span class="token comment">// if you don't do this, the loader below will be appended to</span>
    <span class="token comment">// existing loaders of the rule.</span>
    svgRule<span class="token punctuation">.</span>uses<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// add replacement loader(s)</span>
    svgRule<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token string">'vue-svg-loader'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">loader</span><span class="token punctuation">(</span><span class="token string">'vue-svg-loader'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="modifying-options-of-a-plugin"><a href="#modifying-options-of-a-plugin" class="header-anchor">#</a> Modifying Options of a Plugin</h3> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token comment">// vue.config.js</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function-variable function">chainWebpack</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">config</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    config<span class="token punctuation">.</span><span class="token function">plugin</span><span class="token punctuation">(</span><span class="token string">'html'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">tap</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">args</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token punctuation">[</span>
        <span class="token comment">/* new args to pass to html-webpack-plugin's constructor */</span>
      <span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>이 옵션의 모든 기능을 활용하는 방법을 이해하려면 <a href="https://github.com/neutrinojs/webpack-chain#getting-started" target="_blank" rel="noopener noreferrer">웹 팩 체인<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>과 <a href="https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-service/lib/config" target="_blank" rel="noopener noreferrer">소스코드 읽기<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>(vue-cli)를 숙지해야한다. 하지만, 옵션을 사용하면 값을 직접 변경하는 것보다 더 표현적이고 안전하게 웹 팩을 구성 할 수 있다.</p> <p>예를 들어 index.html의 기본 위치를 /Users/username/proj/public/index.html에서 /Users/username/proj/app/templates/index.html로 변경 할 때, <a href="https://github.com/jantimon/html-webpack-plugin#options" target="_blank" rel="noopener noreferrer">html-webpack-plugin<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>을 참조하여 전달할 수 있는 옵션 목록을 볼 수 있다.</p> <p>템플릿 경로를 변경하려면 다음 구성을 사용하여 새 템플릿 경로를 전달하면 된다.</p> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token comment">// vue.config.js</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function-variable function">chainWebpack</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">config</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    config<span class="token punctuation">.</span><span class="token function">plugin</span><span class="token punctuation">(</span><span class="token string">'html'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">tap</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">args</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      args<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>template <span class="token operator">=</span> <span class="token string">'/Users/username/proj/app/templates/index.html'</span><span class="token punctuation">;</span>
      <span class="token keyword">return</span> args<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>변경후에는 <code>vue inspect</code> 명령어를 통해서 웹팩 설정을 확인하면 된다.</p> <h3 id="프로젝트-내-웹팩-설정-확인하기"><a href="#프로젝트-내-웹팩-설정-확인하기" class="header-anchor">#</a> 프로젝트 내 웹팩 설정 확인하기</h3> <p><code>@vue/cli-service</code> 는 추상화 되어있기 때문에, 설정을 이해하기 더 어렵다.</p> <p><code>vue-cli-service</code> 는 <code>inspect</code> 명령어를 통해서 웹팩 설정을 공유 할 수 있다. 글로벌 <code>vue</code> 에서도 이 명령어를 사용 할 수 있다. 프로젝트 내에 있는 <code>vue-cli-service inspect</code> 프록시하여 작동된다.</p> <p>아래는 inspect 할 수 있는 간단한 명령어이다.</p> <div class="language-bash extra-class"><pre class="language-bash"><code>vue inspect <span class="token operator">&gt;</span> output.js
</code></pre></div><p>기본적인 inspect 명령어는 개발 설정을 나타낸다. production 설정을 보고 싶다면 아래와 같이 옵션을 주면 된다.</p> <div class="language-bash extra-class"><pre class="language-bash"><code>vue inspect --mode production <span class="token operator">&gt;</span> output.prod.js
</code></pre></div><p>output에 있는 것을 유효한 웹팩 설정파일이 아니고, 단순하게 inspection 되어 직렬화 된 정보라는 것을 유의해야 한다.</p> <p>특정 부분만을 inspect하고 싶으면 다음과 같이 기입한다.</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># only inspect the first rule</span>
vue inspect module.rules.0
</code></pre></div><div class="language-bash extra-class"><pre class="language-bash"><code>vue inspect --rule vue
vue inspect --plugin html
</code></pre></div><p>rules 혹은 플러그인들을 리스팅 하는 명령어이다.</p> <div class="language-bash extra-class"><pre class="language-bash"><code>vue inspect --rules
vue inspect --plugins
</code></pre></div><h3 id="참고-링크"><a href="#참고-링크" class="header-anchor">#</a> 참고 링크</h3> <p><a href="https://cli.vuejs.org/guide/webpack.html#inspecting-the-project-s-webpack-config" target="_blank" rel="noopener noreferrer">Working with Webpack | Vue CLI<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/vueStudy/03-work-with-css.html" class="prev">
        Working with CSS
      </a></span> <span class="next"><a href="/vueStudy/05-mode-and-environment-variables.html">
        Modes
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.ccdd7dc9.js" defer></script><script src="/assets/js/2.cd210312.js" defer></script><script src="/assets/js/13.cf2b785b.js" defer></script>
  </body>
</html>
